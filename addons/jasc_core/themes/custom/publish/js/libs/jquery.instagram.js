(function(d){d.fn.instagram=function(f){function h(c){var b=c.images.thumbnail.url;if(a.image_size=="low_resolution")b=c.images.low_resolution.url;else if(a.image_size=="thumbnail")b=c.images.thumbnail.url;else if(a.image_size=="standard_resolution")b=c.images.standard_resolution.url;b=d("<img>").addClass("instagram-image").attr("src",b);a.photoLink&&(b=d("<a>").attr("target","_blank").attr("href",c.link).append(b));return d("<div>").addClass("instagram-placeholder").attr("id",c.id).append(b)}var g=
this,a={hash:null,userId:null,locationId:null,search:null,accessToken:null,clientId:null,show:null,onLoad:null,onComplete:null,maxId:null,minId:null,next_url:null,image_size:null,photoLink:!0};f&&d.extend(a,f);a.onLoad!=null&&typeof a.onLoad=="function"&&a.onLoad();d.ajax({type:"GET",dataType:"jsonp",cache:!1,url:function(){var c="https://api.instagram.com/v1",b={};if(a.next_url!=null)return a.next_url;a.hash!=null?c+="/tags/"+a.hash+"/media/recent":a.search!=null?(c+="/media/search",b.lat=a.search.lat,
b.lng=a.search.lng,a.search.max_timestamp!=null&&(b.max_timestamp=a.search.max_timestamp),a.search.min_timestamp!=null&&(b.min_timestamp=a.search.min_timestamp),a.search.distance!=null&&(b.distance=a.search.distance)):c+=a.userId!=null?"/users/"+a.userId+"/media/recent":a.locationId!=null?"/locations/"+a.locationId+"/media/recent":"/media/popular";a.accessToken!=null&&(b.access_token=a.accessToken);a.clientId!=null&&(b.client_id=a.clientId);a.minId!=null&&(b.min_id=a.minId);a.maxId!=null&&(b.max_id=
a.maxId);a.show!=null&&(b.count=a.show);c+="?"+d.param(b);return c}(),success:function(c){var b=typeof c.data!="undefined"?c.data.length:0,b=a.show!=null&&a.show<b?a.show:b;if(b>0)for(var e=0;e<b;e++)g.append(h(c.data[e]));else g.append(d("<div>").addClass("instagram-placeholder").attr("id","empty").append(d("<p>").html("No photos for this query")));a.onComplete!=null&&typeof a.onComplete=="function"&&a.onComplete(c.data,c)}});return this}})(jQuery);
