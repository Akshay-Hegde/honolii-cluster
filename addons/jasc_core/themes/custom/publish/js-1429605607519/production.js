function InstagramGrid(a,b){this.gridSize=306,this.imgRes="low_resolution",this.imgArray=[],this.gridWidth=null,this.gridHeight=null,this.gridArray=[],this.$element=$(b);for(var c in a){var d,e;d=new Image,e=a[c].images[this.imgRes].url,d.src=e,this.imgArray.push(e)}windowManager.$window.bind("windowResize",this,this.resize)}function WindowManager(){this.$window=$(window),this.width=this.$window.width(),this.height=this.$window.height(),this.scrollTop=this.$window.scrollTop(),this.$window.resize(this,this.resize),this.$window.scroll(this,this.scroll)}function SectionManager(a){var b;this.isActive=!1,this.sectionIndex=0,this.$sections=a.section,this.$nav=a.nav,this.sectionPos=[],this.resize="undefined"==typeof a.resize?!1:a.resize,this.offsetpx="undefined"==typeof a.offsetpx?50:a.offsetpx,this.offsetindex="undefined"==typeof a.offsetindex?0:a.offsetindex,this.time="undefined"==typeof a.time?700:a.time,this.resize&&windowManager.$window.bind("windowResize",this,this.resize),windowManager.$window.bind("windowScrollTop",this,this.setActive),b=this.$sections.length;for(var c=0;b>c;c++)this.sectionPos[c]=this.$sections.eq(c).position().top}function SectionSlider(a){this.$slides=a.slides,this.$slidesNav=a.nav,this.setIndex=0,this.$slidesNav.click(this,this.slide),this.$slidesNav.eq(0).addClass("active")}!function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function a(a,b){for(var c=decodeURI(a),d=p[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},g=14;g--;)e.attr[n[g]]=d[g]||"";return e.param.query=f(e.attr.query),e.param.fragment=f(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function b(a){var b=a.tagName;return"undefined"!=typeof b?m[b.toLowerCase()]:b}function c(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?j(h)?""!==f&&h.push(f):"object"==typeof h?h[k(h).length]=f:h=b[e]=[b[e],f]:~g.indexOf("]")?(g=g.substr(0,g.length-1),!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f)):(!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f))}else j(b[e])?b[e].push(f):b[e]="object"==typeof b[e]?f:"undefined"==typeof b[e]?f:[b[e],f]}function e(a,b,c){if(~b.indexOf("]")){var e=b.split("[");d(e,a,"base",c)}else{if(!q.test(b)&&j(a.base)){var f={};for(var h in a.base)f[h]=a.base[h];a.base=f}""!==b&&g(a.base,b,c)}return a}function f(a){return i(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(c){}var d=b.indexOf("="),f=h(b),g=b.substr(0,f||d),i=b.substr(f||d,b.length);return i=i.substr(i.indexOf("=")+1,i.length),""===g&&(g=b,i=""),e(a,g,i)},{base:{}}).base}function g(a,b,c){var d=a[b];"undefined"==typeof d?a[b]=c:j(d)?d.push(c):a[b]=[d,c]}function h(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function i(a,b){for(var c=0,d=a.length>>0,e=arguments[2];d>c;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(b,c){return 1===arguments.length&&b===!0&&(c=!0,b=void 0),c=c||!1,b=b||window.location.toString(),{data:a(b,c),attr:function(a){return a=o[a]||a,"undefined"!=typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!=typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!=typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return"undefined"==typeof a?this.data.seg.path:(a=0>a?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return"undefined"==typeof a?this.data.seg.fragment:(a=0>a?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},q=/^[0-9]+$/;return l.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";return this.length&&(d=a(this).attr(b(this[0]))||""),l(d,c)},a.url=l)},l.jQuery(window.jQuery),l}),function(a){var b=[],c={},d="routie",e=a[d],f=function(a,b){this.name=b,this.path=a,this.keys=[],this.fns=[],this.params={},this.regex=g(this.path,this.keys,!1,!1)};f.prototype.addHandler=function(a){this.fns.push(a)},f.prototype.removeHandler=function(a){for(var b=0,c=this.fns.length;c>b;b++){var d=this.fns[b];if(a==d)return void this.fns.splice(b,1)}},f.prototype.run=function(a){for(var b=0,c=this.fns.length;c>b;b++)this.fns[b].apply(this,a)},f.prototype.match=function(a,b){var c=this.regex.exec(a);if(!c)return!1;for(var d=1,e=c.length;e>d;++d){var f=this.keys[d-1],g="string"==typeof c[d]?decodeURIComponent(c[d]):c[d];f&&(this.params[f.name]=g),b.push(g)}return!0},f.prototype.toURL=function(a){var b=this.path;for(var c in a)b=b.replace("/:"+c,"/"+a[c]);if(b=b.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=b.indexOf(":"))throw new Error("missing parameters for url: "+b);return b};var g=function(a,b,c,d){return a instanceof RegExp?a:(a instanceof Array&&(a="("+a.join("|")+")"),a=a.concat(d?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(a,c,d,e,f,g){return b.push({name:e,optional:!!g}),c=c||"",""+(g?"":c)+"(?:"+(g?c:"")+(d||"")+(f||d&&"([^/.]+?)"||"([^/]+?)")+")"+(g||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+a+"$",c?"":"i"))},h=function(a,d){var e=a.split(" "),g=2==e.length?e[0]:null;a=2==e.length?e[1]:e[0],c[a]||(c[a]=new f(a,g),b.push(c[a])),c[a].addHandler(d)},i=function(a,b){if("function"==typeof b)h(a,b),i.reload();else if("object"==typeof a){for(var c in a)h(c,a[c]);i.reload()}else"undefined"==typeof b&&i.navigate(a)};i.lookup=function(a,c){for(var d=0,e=b.length;e>d;d++){var f=b[d];if(f.name==a)return f.toURL(c)}},i.remove=function(a,b){var d=c[a];d&&d.removeHandler(b)},i.removeAll=function(){c={},b=[]},i.navigate=function(a,b){b=b||{};var c=b.silent||!1;c&&n(),setTimeout(function(){window.location.hash=a,c&&setTimeout(function(){m()},1)},1)},i.noConflict=function(){return a[d]=e,i};var j=function(){return window.location.hash.substring(1)},k=function(a,b){var c=[];return b.match(a,c)?(b.run(c),!0):!1},l=i.reload=function(){for(var a=j(),c=0,d=b.length;d>c;c++){var e=b[c];if(k(a,e))return}},m=function(){a.addEventListener?a.addEventListener("hashchange",l,!1):a.attachEvent("onhashchange",l)},n=function(){a.removeEventListener?a.removeEventListener("hashchange",l):a.detachEvent("onhashchange",l)};m(),a[d]=i}(window),InstagramGrid.prototype.resize=function(a){var b,c,d,e,f,g,h;if(a?(e=a.data.gridSize,gridWidth=a.data.gridWidth,gridHeight=a.data.gridHeight,f=a.data.imgArray):(e=this.gridSize,gridWidth=this.gridWidth,gridHeight=this.gridHeight,f=this.imgArray),b=Math.ceil(windowManager.width/e),c=Math.ceil(windowManager.height/e),d=b*c,h=f.length,g=[],b!=gridWidth||c!=gridHeight){if(h>d){g=f.slice(0,d)}else{var i;for(i=d-h,i>0;i--;){var j=Math.floor(Math.random()*h);g.push(f[j])}g=f.concat(g)}a?(a.data.gridWidth=b,a.data.gridHeight=c,a.data.gridArray=g,a.data.setGrid()):(this.gridWidth=b,this.gridHeight=c,this.gridArray=g,this.setGrid())}},InstagramGrid.prototype.setGrid=function(){var a,b,c,d;for(d=this.gridArray.length,a='<div class="grid-mask"><div class="grid" style="height:'+windowManager.height+'">',c=this.$element.children(".grid-mask"),b=0;d>b;b++){var e=b%this.gridWidth===0?"clear":"not-clear";a+='<div class="grid-item '+e+'" style="background-image:url('+this.gridArray[b]+')"></div>'}a+="</div></div>",c.length&&c.remove(),this.$element.prepend(a)};var windowManager;$(function(){windowManager=new WindowManager}),WindowManager.prototype.resize=function(a){var b,c,d;b=a.data.$window,c=b.width(),d=b.height(),a.data.width=c,a.data.height=d,a.data.$window.trigger("windowResize",{width:c,height:d})},WindowManager.prototype.scroll=function(a){var b;b=a.data.$window.scrollTop(),a.data.scrollTop=b,a.data.$window.trigger("windowScrollTop",{scrollTop:b})},SectionManager.prototype.resize=function(a,b){a.data.$sections.each(function(){var a,c;a=$(this),c=a.attr("data-section-resize"),isNaN(c)?a.css("height",b.height):a.css("height",b.height+parseInt(c))})},SectionManager.prototype.setActive=function(a,b){var c,d,e;for(e=0,d=a.data.$sections.length;isNaN(c);)(e===d||b.scrollTop+a.data.offsetpx<a.data.sectionPos[e])&&(c=e-1),e++;if(c!==a.data.sectionIndex){var f=a.data.$sections.eq(c).data("hash");a.data.$nav.parent("li").removeClass("active"),a.data.sectionIndex=c,routie.navigate(f,{silent:!0}),0!==a.data.offsetindex?c>=a.data.offsetindex&&a.data.$nav.eq(c-a.data.offsetindex).parent("li").addClass("active"):a.data.$nav.eq(c).parent("li").addClass("active")}a.data.isActive||(a.data.isActive=!0)},SectionManager.prototype.navClick=function(a,b){var c,d,e;a?(e=a.data.offsetindex,c=a.data.$nav.index($(a.currentTarget))+e):"undefined"!=typeof b&&(c=b),d=sectionManager.$sections.eq(c).position().top,$("html, body").stop().animate({scrollTop:d},sectionManager.time)},SectionSlider.prototype.slide=function(a){var b,c,d;"object"==typeof a?(b=a.data.$slidesNav.index($(this)),c=a.data):(b=a,c=this),b!=c.setIndex&&(c.$slidesNav.removeClass("active"),c.$slidesNav.eq(b).addClass("active"),d=c.$slides.eq(b).css("marginLeft"),d=d.slice(0,d.length-2),d>0?(c.$slides.eq(c.setIndex).css("marginLeft","-100%"),c.$slides.eq(b).css("marginLeft",0)):(c.$slides.eq(c.setIndex).css("marginLeft","100%"),c.$slides.eq(b).css("marginLeft",0)),c.setIndex=b)},$(function(){var a,b,c,d;if(d={section:$("#content > section, div.section-slides"),nav:$("#main-nav > .site-nav-1 > .nav li").not(".cta").children("a"),resize:!1,offsetpx:50,offsetindex:1},sectionManager=new SectionManager(d),sectionSliderObj={nav:$(".slide-nav > li","#productgroups"),slides:$(".slide-wrapper > section","#productgroups")},sectionSlider=new SectionSlider(sectionSliderObj),0!==$("#home_id").length&&(setTimeout(function(){$("#home_id h1").addClass("bounceInDown")},500),routie({start:function(){sectionManager.navClick(null,0),ga("send","event","tour-click","start",1)},aboutus:function(){sectionManager.navClick(null,1),ga("send","event","tour-click","about",1)},products:function(){sectionManager.navClick(null,2),sectionSlider.slide(0),ga("send","event","tour-click","product",1)},"slide/retailsigns":function(){sectionManager.navClick(null,2),sectionSlider.slide(1),ga("send","event","tour-click","product/retail",1)},"slide/restaurantbarsigns":function(){sectionManager.navClick(null,2),sectionSlider.slide(2),ga("send","event","tour-click","product/restaurant",1)},"slide/hotelsigns":function(){sectionManager.navClick(null,2),sectionSlider.slide(3),ga("send","event","tour-click","product/hotel",1)},"slide/realestatesigns":function(){sectionManager.navClick(null,2),sectionSlider.slide(4),ga("send","event","tour-click","product/realestate",1)},services:function(){sectionManager.navClick(null,3),ga("send","event","tour-click","service",1)},gallery:function(){sectionManager.navClick(null,4),ga("send","event","tour-click","gallery",1)},contact:function(){sectionManager.navClick(null,5),ga("send","event","tour-click","contact",1)}})),0!==$("#raq form").length){var e=$("fieldset");e.find("a.btn").click(function(){var a=$(this),b=a.attr("href").substring(1);routie.navigate(b)}),routie({tab1:function(){e.removeClass("active").eq(0).addClass("active"),ga("send","event","raq-fieldset","contact-information",1)},tab2:function(){e.removeClass("active").eq(1).addClass("active"),ga("send","event","raq-fieldset","sign-information",1)},tab3:function(){e.removeClass("active").eq(2).addClass("active"),ga("send","event","raq-fieldset","other-information",1)}})}$("#raq form").addClass("form-horizontal").find("input,select,textarea").addClass("input-block-level"),0!==$("#gallery_id").length&&(instagramGrid=new InstagramGrid(instagramOBJ.data,"#gallery_id"),instagramGrid.resize()),a=$("#header"),b=$("#headerToggle"),a.find("li.submenu").append('<i class="icon-bullet-box"></i>'),c=$("i.icon-bullet-box","#header"),b.click(function(){var b;b=$(this),b.hasClass("active")?(b.removeClass("active"),a.removeClass("active1").removeClass("active2")):(b.addClass("active"),a.addClass("active1"))}),c.click(function(){a.hasClass("active2")?a.removeClass("active2"):a.addClass("active2")}),windowManager.width>=1700&&b.trigger("click")});